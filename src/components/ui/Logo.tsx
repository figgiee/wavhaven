import React, { useState, useEffect } from 'react';
import Link from 'next/link';
import { motion } from 'framer-motion';
import { cn } from '@/lib/utils';
import { usePlayerStore } from '@/stores/use-player-store';

interface LogoProps {
  className?: string;
  width?: number;
  height?: number;
  showText?: boolean;
  linkClassName?: string;
  responsive?: boolean;
  hoverEffect?: 'living-wave' | 'subtle-glow' | 'brightness' | 'opacity' | 'none';
  enablePlayerSync?: boolean; // New prop to enable player-state animations
}

export function Logo({ 
  className, 
  width = 72, 
  height = 40, 
  showText = true,
  linkClassName,
  responsive = true,
  hoverEffect = 'living-wave',
  enablePlayerSync = false
}: LogoProps) {
  const [isLoaded, setIsLoaded] = useState(false);
  const [isHovered, setIsHovered] = useState(false);
  
  // Get player state for advanced animations
  const isPlaying = usePlayerStore((state) => state.isPlaying);

  useEffect(() => {
    const timer = setTimeout(() => setIsLoaded(true), 100);
    return () => clearTimeout(timer);
  }, []);

  // Define wave animation variants
  const waveVariants = {
    // Idle state - no animation
    idle: {
      d: "M-178-170,932.47,442.96h-35.05c-4.02,0-14.43,9.86-14.43,14.43v274.18c-64.53.45-129.68-.32-194.52-.07-40.87.16-82.64.68-123.7,1.51-8.86.18-17.03-1.94-26.78.58-17.03,4.39-17.78,34.29,7.55,36.52,120.42-1.08,241.28,1.9,361.43-1.5,4.38-.6,14.5-10.81,14.5-14.36v-272.81c17.98-1.39,38.02,1.6,55.67.62,24.5-1.36,28.98-22.26,14.45-39.82-22.65-27.36-58.7-59.58-84.7-85.72-43.62-43.88-88.58-86.39-131.76-130.73-12.12-9.83-22.48-11.19-34.42,0-42.02,50.98-122.09,100.76-138.79,166.31-16.5,64.73-22.75,134.75-39.52,199.61-2.12,8.19-10.48,41.21-18.47,43.45-1.59.45-3.1.56-4.52-.46-4.93-3.07-12.93-30.67-14.73-37.52-13.4-51.26-24.96-169.43-61.35-204.59-42.04-40.61-75.54,19.15-86.46,54.81-15.18,49.58-18.2,104.02-33.31,153.6-3,9.85-15.04,48.28-28.78,30.16-20.47-27-31.48-131.18-41.55-170.1-9.15-35.38-39.97-111.07-87.09-71.08-32.01,27.17-36.94,89.7-51.14,127.52-19.79,52.7-73.82,26.05-117.07,32.74-14.36,2.22-19.29,20.85-9.03,30.84,3.16,3.08,11.35,5.7,15.8,6.19,19.23,2.09,62.86,1.77,82.3-.18,71.27-7.14,68.09-92.7,88.15-142.74,5.81-14.5,15.16-35.52,27.94-12.86,9.95,17.64,17.17,56.27,21.8,77.15,9.28,41.84,20.19,142.28,59.32,164.7,13.04,7.47,30.03,6.92,42.1-2.25,46.77-35.53,48.82-173.15,72.86-229.49,2.47-5.78,9.98-21.88,17.66-20.35,8.43,5.75,12.54,17.46,15.59,26.91,18.42,56.9,25.56,169.23,60.26,213.23,14.23,18.04,37.31,24.79,54.95,7.02,25.85-26.04,35.91-86.22,43.4-121.63,9.1-43.05,15.41-87.11,25-130.2,3.41-15.33,5.2-32.26,16.04-44.44l105.36-105.01,175.04,175.82Z",
      transition: { duration: 0.3 }
    },
    // Gentle hover animation - subtle wave movement
    hover: {
      d: "M-178-170,932.47,452.96h-35.05c-4.02,0-14.43,9.86-14.43,14.43v264.18c-64.53.45-129.68-.32-194.52-.07-40.87.16-82.64.68-123.7,1.51-8.86.18-17.03-1.94-26.78.58-17.03,4.39-17.78,34.29,7.55,36.52,120.42-1.08,241.28,1.9,361.43-1.5,4.38-.6,14.5-10.81,14.5-14.36v-262.81c17.98-1.39,38.02,1.6,55.67.62,24.5-1.36,28.98-22.26,14.45-39.82-22.65-27.36-58.7-59.58-84.7-85.72-43.62-43.88-88.58-86.39-131.76-130.73-12.12-9.83-22.48-11.19-34.42,0-42.02,50.98-122.09,100.76-138.79,156.31-16.5,64.73-22.75,134.75-39.52,189.61-2.12,8.19-10.48,41.21-18.47,43.45-1.59.45-3.1.56-4.52-.46-4.93-3.07-12.93-30.67-14.73-37.52-13.4-51.26-24.96-159.43-61.35-194.59-42.04-40.61-75.54,19.15-86.46,54.81-15.18,49.58-18.2,104.02-33.31,153.6-3,9.85-15.04,48.28-28.78,30.16-20.47-27-31.48-131.18-41.55-170.1-9.15-35.38-39.97-111.07-87.09-71.08-32.01,27.17-36.94,89.7-51.14,127.52-19.79,52.7-73.82,26.05-117.07,32.74-14.36,2.22-19.29,20.85-9.03,30.84,3.16,3.08,11.35,5.7,15.8,6.19,19.23,2.09,62.86,1.77,82.3-.18,71.27-7.14,68.09-92.7,88.15-142.74,5.81-14.5,15.16-35.52,27.94-12.86,9.95,17.64,17.17,56.27,21.8,77.15,9.28,41.84,20.19,142.28,59.32,164.7,13.04,7.47,30.03,6.92,42.1-2.25,46.77-35.53,48.82-173.15,72.86-229.49,2.47-5.78,9.98-21.88,17.66-20.35,8.43,5.75,12.54,17.46,15.59,26.91,18.42,56.9,25.56,169.23,60.26,213.23,14.23,18.04,37.31,24.79,54.95,7.02,25.85-26.04,35.91-86.22,43.4-121.63,9.1-43.05,15.41-87.11,25-130.2,3.41-15.33,5.2-32.26,16.04-44.44l105.36-105.01,175.04,175.82Z",
      transition: { duration: 0.6, ease: "easeInOut" }
    },
    // Active playing animation - continuous gentle oscillation
    playing: {
      d: [
        "M-178-170,932.47,442.96h-35.05c-4.02,0-14.43,9.86-14.43,14.43v274.18c-64.53.45-129.68-.32-194.52-.07-40.87.16-82.64.68-123.7,1.51-8.86.18-17.03-1.94-26.78.58-17.03,4.39-17.78,34.29,7.55,36.52,120.42-1.08,241.28,1.9,361.43-1.5,4.38-.6,14.5-10.81,14.5-14.36v-272.81c17.98-1.39,38.02,1.6,55.67.62,24.5-1.36,28.98-22.26,14.45-39.82-22.65-27.36-58.7-59.58-84.7-85.72-43.62-43.88-88.58-86.39-131.76-130.73-12.12-9.83-22.48-11.19-34.42,0-42.02,50.98-122.09,100.76-138.79,166.31-16.5,64.73-22.75,134.75-39.52,199.61-2.12,8.19-10.48,41.21-18.47,43.45-1.59.45-3.1.56-4.52-.46-4.93-3.07-12.93-30.67-14.73-37.52-13.4-51.26-24.96-169.43-61.35-204.59-42.04-40.61-75.54,19.15-86.46,54.81-15.18,49.58-18.2,104.02-33.31,153.6-3,9.85-15.04,48.28-28.78,30.16-20.47-27-31.48-131.18-41.55-170.1-9.15-35.38-39.97-111.07-87.09-71.08-32.01,27.17-36.94,89.7-51.14,127.52-19.79,52.7-73.82,26.05-117.07,32.74-14.36,2.22-19.29,20.85-9.03,30.84,3.16,3.08,11.35,5.7,15.8,6.19,19.23,2.09,62.86,1.77,82.3-.18,71.27-7.14,68.09-92.7,88.15-142.74,5.81-14.5,15.16-35.52,27.94-12.86,9.95,17.64,17.17,56.27,21.8,77.15,9.28,41.84,20.19,142.28,59.32,164.7,13.04,7.47,30.03,6.92,42.1-2.25,46.77-35.53,48.82-173.15,72.86-229.49,2.47-5.78,9.98-21.88,17.66-20.35,8.43,5.75,12.54,17.46,15.59,26.91,18.42,56.9,25.56,169.23,60.26,213.23,14.23,18.04,37.31,24.79,54.95,7.02,25.85-26.04,35.91-86.22,43.4-121.63,9.1-43.05,15.41-87.11,25-130.2,3.41-15.33,5.2-32.26,16.04-44.44l105.36-105.01,175.04,175.82Z",
        "M-178-170,932.47,452.96h-35.05c-4.02,0-14.43,9.86-14.43,14.43v264.18c-64.53.45-129.68-.32-194.52-.07-40.87.16-82.64.68-123.7,1.51-8.86.18-17.03-1.94-26.78.58-17.03,4.39-17.78,34.29,7.55,36.52,120.42-1.08,241.28,1.9,361.43-1.5,4.38-.6,14.5-10.81,14.5-14.36v-262.81c17.98-1.39,38.02,1.6,55.67.62,24.5-1.36,28.98-22.26,14.45-39.82-22.65-27.36-58.7-59.58-84.7-85.72-43.62-43.88-88.58-86.39-131.76-130.73-12.12-9.83-22.48-11.19-34.42,0-42.02,50.98-122.09,100.76-138.79,156.31-16.5,64.73-22.75,134.75-39.52,189.61-2.12,8.19-10.48,41.21-18.47,43.45-1.59.45-3.1.56-4.52-.46-4.93-3.07-12.93-30.67-14.73-37.52-13.4-51.26-24.96-159.43-61.35-194.59-42.04-40.61-75.54,19.15-86.46,54.81-15.18,49.58-18.2,104.02-33.31,153.6-3,9.85-15.04,48.28-28.78,30.16-20.47-27-31.48-131.18-41.55-170.1-9.15-35.38-39.97-111.07-87.09-71.08-32.01,27.17-36.94,89.7-51.14,127.52-19.79,52.7-73.82,26.05-117.07,32.74-14.36,2.22-19.29,20.85-9.03,30.84,3.16,3.08,11.35,5.7,15.8,6.19,19.23,2.09,62.86,1.77,82.3-.18,71.27-7.14,68.09-92.7,88.15-142.74,5.81-14.5,15.16-35.52,27.94-12.86,9.95,17.64,17.17,56.27,21.8,77.15,9.28,41.84,20.19,142.28,59.32,164.7,13.04,7.47,30.03,6.92,42.1-2.25,46.77-35.53,48.82-173.15,72.86-229.49,2.47-5.78,9.98-21.88,17.66-20.35,8.43,5.75,12.54,17.46,15.59,26.91,18.42,56.9,25.56,169.23,60.26,213.23,14.23,18.04,37.31,24.79,54.95,7.02,25.85-26.04,35.91-86.22,43.4-121.63,9.1-43.05,15.41-87.11,25-130.2,3.41-15.33,5.2-32.26,16.04-44.44l105.36-105.01,175.04,175.82Z"
      ],
      transition: { 
        duration: 2, 
        ease: "easeInOut", 
        repeat: Infinity, 
        repeatType: "reverse" 
      }
    }
  };

  // Determine animation state
  const getAnimationState = () => {
    if (enablePlayerSync && isPlaying) return 'playing';
    if (hoverEffect === 'living-wave' && isHovered) return 'hover';
    return 'idle';
  };

  // Define hover effect classes for non-living-wave effects
  const getHoverClasses = () => {
    switch (hoverEffect) {
      case 'living-wave':
        return ""; // Animation handled by Framer Motion
      case 'subtle-glow':
        return "hover:brightness-110 hover:drop-shadow-glow-cyan";
      case 'brightness':
        return "hover:brightness-125";
      case 'opacity':
        return "hover:opacity-80";
      case 'none':
        return "";
      default:
        return "";
    }
  };



  if (!showText) {
    const mobileWidth = Math.round(width * 0.75);
    const mobileHeight = Math.round(height * 0.75);
    
    return (
      <Link 
        href="/" 
        className={cn(
          "inline-block rounded-sm",
          "focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-glow/50",
          "transition-all duration-300 transform-gpu",
          isLoaded ? "opacity-100 translate-y-0" : "opacity-0 translate-y-2",
          linkClassName
        )}
        aria-label="Wavhaven Home"
        onMouseEnter={() => setIsHovered(true)}
        onMouseLeave={() => setIsHovered(false)}
      >
        {responsive ? (
          <>
            {/* Desktop logo */}
            <div className="hidden sm:block">
              <LogoSVG 
                width={width}
                height={height}
                hoverEffect={hoverEffect}
                enablePlayerSync={enablePlayerSync}
                isHovered={isHovered}
              />
            </div>
            {/* Mobile logo */}
            <div className="block sm:hidden">
              <LogoSVG 
                width={mobileWidth}
                height={mobileHeight}
                hoverEffect={hoverEffect}
                enablePlayerSync={enablePlayerSync}
                isHovered={isHovered}
              />
            </div>
          </>
        ) : (
          <LogoSVG 
            width={width}
            height={height}
            hoverEffect={hoverEffect}
            enablePlayerSync={enablePlayerSync}
            isHovered={isHovered}
          />
        )}
      </Link>
    );
  }

  // Responsive sizes for mobile
  const mobileWidth = Math.round(width * 0.75);
  const mobileHeight = Math.round(height * 0.75);

  return (
    <Link 
      href="/" 
      className={cn(
        "flex items-center gap-2.5 group mr-4 space-x-2 rounded-sm",
        "focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-glow/50",
        "transition-all duration-300",
        "transform-gpu", // Hardware acceleration for better performance
        isLoaded ? "opacity-100 translate-y-0" : "opacity-0 translate-y-2",
        linkClassName
      )}
      aria-label="Wavhaven Home"
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      <div className="relative flex items-center justify-center">
        {responsive ? (
          <>
            {/* Desktop logo */}
            <div className="hidden sm:block">
              <LogoSVG 
                width={width} 
                height={height}
                hoverEffect={hoverEffect}
                enablePlayerSync={enablePlayerSync}
                isHovered={isHovered}
              />
            </div>
            {/* Mobile logo */}
            <div className="block sm:hidden">
              <LogoSVG 
                width={mobileWidth} 
                height={mobileHeight}
                hoverEffect={hoverEffect}
                enablePlayerSync={enablePlayerSync}
                isHovered={isHovered}
              />
            </div>
          </>
        ) : (
          <LogoSVG svgWidth={width} svgHeight={height} />
        )}
      </div>
      <motion.span 
        className={cn(
          "font-bold tracking-wider text-neutral-100 transition-all duration-300 drop-shadow-lg",
          responsive ? "text-lg sm:text-xl" : "text-xl"
        )}
        animate={{
          color: (enablePlayerSync && isPlaying) || isHovered ? '#00D4FF' : '#f5f5f5',
          filter: (enablePlayerSync && isPlaying) || isHovered 
            ? 'drop-shadow(0 0 8px #00D4FF)' 
            : 'drop-shadow(0 2px 4px rgba(0,0,0,0.3))'
        }}
        transition={{ duration: 0.3 }}
      >
        WAVHAVEN
      </motion.span>
    </Link>
  );
}

// Alternative logo component for cases where you just want the SVG without the link
export function LogoSVG({ 
  className, 
  width = 72, 
  height = 40,
  hoverEffect = 'living-wave',
  enablePlayerSync = false,
  isHovered = false
}: { 
  className?: string; 
  width?: number; 
  height?: number;
  hoverEffect?: 'living-wave' | 'subtle-glow' | 'brightness' | 'opacity' | 'none';
  enablePlayerSync?: boolean;
  isHovered?: boolean;
}) {
  // Get player state for advanced animations
  const isPlaying = usePlayerStore((state) => state.isPlaying);

  // Define wave animation variants (same as main Logo component)
  const waveVariants = {
    idle: {
      d: "M-178-170,932.47,442.96h-35.05c-4.02,0-14.43,9.86-14.43,14.43v274.18c-64.53.45-129.68-.32-194.52-.07-40.87.16-82.64.68-123.7,1.51-8.86.18-17.03-1.94-26.78.58-17.03,4.39-17.78,34.29,7.55,36.52,120.42-1.08,241.28,1.9,361.43-1.5,4.38-.6,14.5-10.81,14.5-14.36v-272.81c17.98-1.39,38.02,1.6,55.67.62,24.5-1.36,28.98-22.26,14.45-39.82-22.65-27.36-58.7-59.58-84.7-85.72-43.62-43.88-88.58-86.39-131.76-130.73-12.12-9.83-22.48-11.19-34.42,0-42.02,50.98-122.09,100.76-138.79,166.31-16.5,64.73-22.75,134.75-39.52,199.61-2.12,8.19-10.48,41.21-18.47,43.45-1.59.45-3.1.56-4.52-.46-4.93-3.07-12.93-30.67-14.73-37.52-13.4-51.26-24.96-169.43-61.35-204.59-42.04-40.61-75.54,19.15-86.46,54.81-15.18,49.58-18.2,104.02-33.31,153.6-3,9.85-15.04,48.28-28.78,30.16-20.47-27-31.48-131.18-41.55-170.1-9.15-35.38-39.97-111.07-87.09-71.08-32.01,27.17-36.94,89.7-51.14,127.52-19.79,52.7-73.82,26.05-117.07,32.74-14.36,2.22-19.29,20.85-9.03,30.84,3.16,3.08,11.35,5.7,15.8,6.19,19.23,2.09,62.86,1.77,82.3-.18,71.27-7.14,68.09-92.7,88.15-142.74,5.81-14.5,15.16-35.52,27.94-12.86,9.95,17.64,17.17,56.27,21.8,77.15,9.28,41.84,20.19,142.28,59.32,164.7,13.04,7.47,30.03,6.92,42.1-2.25,46.77-35.53,48.82-173.15,72.86-229.49,2.47-5.78,9.98-21.88,17.66-20.35,8.43,5.75,12.54,17.46,15.59,26.91,18.42,56.9,25.56,169.23,60.26,213.23,14.23,18.04,37.31,24.79,54.95,7.02,25.85-26.04,35.91-86.22,43.4-121.63,9.1-43.05,15.41-87.11,25-130.2,3.41-15.33,5.2-32.26,16.04-44.44l105.36-105.01,175.04,175.82Z",
      transition: { duration: 0.3 }
    },
    hover: {
      d: "M-178-170,932.47,452.96h-35.05c-4.02,0-14.43,9.86-14.43,14.43v264.18c-64.53.45-129.68-.32-194.52-.07-40.87.16-82.64.68-123.7,1.51-8.86.18-17.03-1.94-26.78.58-17.03,4.39-17.78,34.29,7.55,36.52,120.42-1.08,241.28,1.9,361.43-1.5,4.38-.6,14.5-10.81,14.5-14.36v-262.81c17.98-1.39,38.02,1.6,55.67.62,24.5-1.36,28.98-22.26,14.45-39.82-22.65-27.36-58.7-59.58-84.7-85.72-43.62-43.88-88.58-86.39-131.76-130.73-12.12-9.83-22.48-11.19-34.42,0-42.02,50.98-122.09,100.76-138.79,156.31-16.5,64.73-22.75,134.75-39.52,189.61-2.12,8.19-10.48,41.21-18.47,43.45-1.59.45-3.1.56-4.52-.46-4.93-3.07-12.93-30.67-14.73-37.52-13.4-51.26-24.96-159.43-61.35-194.59-42.04-40.61-75.54,19.15-86.46,54.81-15.18,49.58-18.2,104.02-33.31,153.6-3,9.85-15.04,48.28-28.78,30.16-20.47-27-31.48-131.18-41.55-170.1-9.15-35.38-39.97-111.07-87.09-71.08-32.01,27.17-36.94,89.7-51.14,127.52-19.79,52.7-73.82,26.05-117.07,32.74-14.36,2.22-19.29,20.85-9.03,30.84,3.16,3.08,11.35,5.7,15.8,6.19,19.23,2.09,62.86,1.77,82.3-.18,71.27-7.14,68.09-92.7,88.15-142.74,5.81-14.5,15.16-35.52,27.94-12.86,9.95,17.64,17.17,56.27,21.8,77.15,9.28,41.84,20.19,142.28,59.32,164.7,13.04,7.47,30.03,6.92,42.1-2.25,46.77-35.53,48.82-173.15,72.86-229.49,2.47-5.78,9.98-21.88,17.66-20.35,8.43,5.75,12.54,17.46,15.59,26.91,18.42,56.9,25.56,169.23,60.26,213.23,14.23,18.04,37.31,24.79,54.95,7.02,25.85-26.04,35.91-86.22,43.4-121.63,9.1-43.05,15.41-87.11,25-130.2,3.41-15.33,5.2-32.26,16.04-44.44l105.36-105.01,175.04,175.82Z",
      transition: { duration: 0.6, ease: "easeInOut" }
    },
    playing: {
      d: [
        "M-178-170,932.47,442.96h-35.05c-4.02,0-14.43,9.86-14.43,14.43v274.18c-64.53.45-129.68-.32-194.52-.07-40.87.16-82.64.68-123.7,1.51-8.86.18-17.03-1.94-26.78.58-17.03,4.39-17.78,34.29,7.55,36.52,120.42-1.08,241.28,1.9,361.43-1.5,4.38-.6,14.5-10.81,14.5-14.36v-272.81c17.98-1.39,38.02,1.6,55.67.62,24.5-1.36,28.98-22.26,14.45-39.82-22.65-27.36-58.7-59.58-84.7-85.72-43.62-43.88-88.58-86.39-131.76-130.73-12.12-9.83-22.48-11.19-34.42,0-42.02,50.98-122.09,100.76-138.79,166.31-16.5,64.73-22.75,134.75-39.52,199.61-2.12,8.19-10.48,41.21-18.47,43.45-1.59.45-3.1.56-4.52-.46-4.93-3.07-12.93-30.67-14.73-37.52-13.4-51.26-24.96-169.43-61.35-204.59-42.04-40.61-75.54,19.15-86.46,54.81-15.18,49.58-18.2,104.02-33.31,153.6-3,9.85-15.04,48.28-28.78,30.16-20.47-27-31.48-131.18-41.55-170.1-9.15-35.38-39.97-111.07-87.09-71.08-32.01,27.17-36.94,89.7-51.14,127.52-19.79,52.7-73.82,26.05-117.07,32.74-14.36,2.22-19.29,20.85-9.03,30.84,3.16,3.08,11.35,5.7,15.8,6.19,19.23,2.09,62.86,1.77,82.3-.18,71.27-7.14,68.09-92.7,88.15-142.74,5.81-14.5,15.16-35.52,27.94-12.86,9.95,17.64,17.17,56.27,21.8,77.15,9.28,41.84,20.19,142.28,59.32,164.7,13.04,7.47,30.03,6.92,42.1-2.25,46.77-35.53,48.82-173.15,72.86-229.49,2.47-5.78,9.98-21.88,17.66-20.35,8.43,5.75,12.54,17.46,15.59,26.91,18.42,56.9,25.56,169.23,60.26,213.23,14.23,18.04,37.31,24.79,54.95,7.02,25.85-26.04,35.91-86.22,43.4-121.63,9.1-43.05,15.41-87.11,25-130.2,3.41-15.33,5.2-32.26,16.04-44.44l105.36-105.01,175.04,175.82Z",
        "M-178-170,932.47,452.96h-35.05c-4.02,0-14.43,9.86-14.43,14.43v264.18c-64.53.45-129.68-.32-194.52-.07-40.87.16-82.64.68-123.7,1.51-8.86.18-17.03-1.94-26.78.58-17.03,4.39-17.78,34.29,7.55,36.52,120.42-1.08,241.28,1.9,361.43-1.5,4.38-.6,14.5-10.81,14.5-14.36v-262.81c17.98-1.39,38.02,1.6,55.67.62,24.5-1.36,28.98-22.26,14.45-39.82-22.65-27.36-58.7-59.58-84.7-85.72-43.62-43.88-88.58-86.39-131.76-130.73-12.12-9.83-22.48-11.19-34.42,0-42.02,50.98-122.09,100.76-138.79,156.31-16.5,64.73-22.75,134.75-39.52,189.61-2.12,8.19-10.48,41.21-18.47,43.45-1.59.45-3.1.56-4.52-.46-4.93-3.07-12.93-30.67-14.73-37.52-13.4-51.26-24.96-159.43-61.35-194.59-42.04-40.61-75.54,19.15-86.46,54.81-15.18,49.58-18.2,104.02-33.31,153.6-3,9.85-15.04,48.28-28.78,30.16-20.47-27-31.48-131.18-41.55-170.1-9.15-35.38-39.97-111.07-87.09-71.08-32.01,27.17-36.94,89.7-51.14,127.52-19.79,52.7-73.82,26.05-117.07,32.74-14.36,2.22-19.29,20.85-9.03,30.84,3.16,3.08,11.35,5.7,15.8,6.19,19.23,2.09,62.86,1.77,82.3-.18,71.27-7.14,68.09-92.7,88.15-142.74,5.81-14.5,15.16-35.52,27.94-12.86,9.95,17.64,17.17,56.27,21.8,77.15,9.28,41.84,20.19,142.28,59.32,164.7,13.04,7.47,30.03,6.92,42.1-2.25,46.77-35.53,48.82-173.15,72.86-229.49,2.47-5.78,9.98-21.88,17.66-20.35,8.43,5.75,12.54,17.46,15.59,26.91,18.42,56.9,25.56,169.23,60.26,213.23,14.23,18.04,37.31,24.79,54.95,7.02,25.85-26.04,35.91-86.22,43.4-121.63,9.1-43.05,15.41-87.11,25-130.2,3.41-15.33,5.2-32.26,16.04-44.44l105.36-105.01,175.04,175.82Z"
      ],
      transition: { 
        duration: 2, 
        ease: "easeInOut", 
        repeat: Infinity, 
        repeatType: "reverse" 
      }
    }
  };

  // Determine animation state
  const getAnimationState = () => {
    if (enablePlayerSync && isPlaying) return 'playing';
    if (hoverEffect === 'living-wave' && isHovered) return 'hover';
    return 'idle';
  };

  // Define hover effect classes for non-living-wave effects
  const getHoverClasses = () => {
    switch (hoverEffect) {
      case 'living-wave':
        return ""; // Animation handled by Framer Motion
      case 'subtle-glow':
        return "hover:brightness-110 hover:drop-shadow-glow-cyan";
      case 'brightness':
        return "hover:brightness-125";
      case 'opacity':
        return "hover:opacity-80";
      case 'none':
        return "";
      default:
        return "";
    }
  };

  return (
    <svg 
      width={width} 
      height={height} 
      viewBox="0 0 1000 1000" 
      className={cn(
        "transition-all duration-300 text-cyan-glow drop-shadow-lg",
        enablePlayerSync && isPlaying && "animate-logo-glow",
        getHoverClasses(),
        className
      )}
      aria-label="Wavhaven Logo"
    >
      <motion.path 
        variants={waveVariants}
        animate={getAnimationState()}
        fill="currentColor" 
      />
      <path 
        d="M932.47,442.96l-175.04-175.82-105.36,105.01c-10.84,12.17-12.62,29.1-16.04,44.44-9.59,43.09-15.9,87.15-25,130.2-7.49,35.42-17.55,95.59-43.4,121.63-17.64,17.77-40.72,11.02-54.95-7.02-34.7-44-41.84-156.33-60.26-213.23-3.06-9.44-7.16-21.16-15.59-26.91-7.69-1.53-15.2,14.57-17.66,20.35-24.05,56.34-26.1,193.96-72.86,229.49-12.07,9.17-29.06,9.72-42.1,2.25-39.13-22.42-50.04-122.86-59.32-164.7-4.63-20.88-11.86-59.51-21.8-77.15-12.78-22.66-22.13-1.64-27.94,12.86-20.06,50.05-16.88,135.6-88.15,142.74-19.44,1.95-63.07,2.26-82.3.18-4.45-.48-12.64-3.11-15.8-6.19-10.26-9.99-5.34-28.62,9.03-30.84,43.25-6.69,97.28,19.97,117.07-32.74,14.2-37.82,19.13-100.35,51.14-127.52,47.11-39.99,77.94,35.69,87.09,71.08,10.06,38.92,21.08,143.11,41.55,170.1,13.74,18.12,25.78-20.31,28.78-30.16,15.11-49.58,18.13-104.02,33.31-153.6,10.92-35.66,44.42-95.42,86.46-54.81,36.39,35.16,47.94,153.32,61.35,204.59,1.79,6.85,9.79,34.45,14.73,37.52,1.42,1.02,2.93.9,4.52.46,7.99-2.24,16.35-35.26,18.47-43.45,16.77-64.87,23.02-134.88,39.52-199.61,16.71-65.55,96.77-115.33,138.79-166.31,11.94-11.19,22.3-9.82,34.42,0,43.19,44.35,88.14,86.86,131.76,130.73,25.99,26.15,62.05,58.36,84.7,85.72,14.53,17.55,10.05,38.46-14.45,39.82-17.65.98-37.69-2-55.67-.62v272.81c0,3.55-10.12,13.76-14.5,14.36-120.16,3.4-241.01.42-361.43,1.5-25.32-2.24-24.58-32.13-7.55-36.52,9.75-2.51,17.92-.4,26.78-.58,41.06-.83,82.83-1.35,123.7-1.51,64.85-.25,129.99.52,194.52.07v-274.18c0-4.57,10.41-14.43,14.43-14.43h35.05Z" 
        fill="currentColor" 
      />
    </svg>
  );
} 